$(document).ready(function(){function a(){var a,b=$("#game-board"),c=$(document.createElement("div"));_.forEach(k,function(d,e){e>0&&0==e%4&&(b.append(c),c=$(document.createElement("div"))),a=$(document.createElement("img")),a.attr({src:"img/tile-back.png",alt:"image of tile "+d.tileNum}),a.data("tile",d),a.addClass(""),c.append(a)}),b.append(c)}function b(){var a,b=[];for(a=3;122>=a;++a)b.push({tileNum:a,src:"img/tile"+a+".png"});return b}function c(a){var b=_.shuffle(a),c=b.slice(0,8),d=[];return _.forEach(c,function(a){d.push(_.clone(a)),d.push(_.clone(a))}),d}function d(a){window.setInterval(function(){var b=Math.floor((_.now()-a)/1e3);$("#elapsed-seconds span").text(b)},1e3)}function e(a){var b=a.data("tile");a.fadeOut(150,function(){b.flipped?a.attr("src","img/tile-back.png"):a.attr("src",b.src),b.flipped=!b.flipped,a.fadeIn(100)})}var f=document.getElementById("tile-flip"),g=document.getElementById("ring"),h=document.getElementById("theme");h.play();var i=_.now(),j=b(),k=c(j);k=_.shuffle(k);var l=0,m=0,n=8;d(i),a(),$("#new-game").click(function(){console.log("hi"),i=_.now(),j=b(),k=c(j),k=_.shuffle(k),l=0,m=0,n=8,d(i),a()}),$("#successful-matches span").text(m),$("#matches-left span").text(n),$("#missed-attempts span").text(l);var o=null;$("#game-board img").click(function(){f.play();var a=$(this);a.data("tile").flipped?console.log("clicked on the same thing twice"):(console.log("Did not click on the same thing 2x"),e(a),null!=o?a.data("tile").src===o.data("tile").src?(console.log("Comparing Matched Pair"),setTimeout(function(){g.play()},750),m++,n--,$("#successful-matches span").text(m),$("#matches-left span").text(n),a.addClass("flipped"),o.addClass("flipped"),o=null):(l++,$("#missed-attempts span").text(l),setTimeout(function(){e(a),e(o),console.log("flip both back to backtile"),console.log("your tiles dont match"),o=null},1e3)):(console.log("No tile is flipped"),o=a))})});